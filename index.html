<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ—¥å¸¸è¨˜å¸³ PWA</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#ffffff">
    <style>
        /* é€™è£¡æ”¾ä¹‹å‰æœ€æ–°çš„ CSS æ¨£å¼ï¼Œç‚ºäº†ç¯‡å¹…æˆ‘çœç•¥ï¼Œè«‹ç›´æ¥å°‡ä¹‹å‰ "å…¨èƒ½çµ±è¨ˆç‰ˆ" çš„ CSS è²¼åœ¨é€™è£¡ */
        /* ... CSS ... */
        :root { --bg-color: #f4f4f9; --card-bg: #ffffff; --text-color: #333; --income-color: #2ecc71; --expense-color: #e74c3c; --bar-bg: #eee; --border-radius: 12px; --input-bg: #fff; --border-color: #ddd; --warning-bg: #fff3cd; --warning-text: #856404; }
        @media (prefers-color-scheme: dark) { :root { --bg-color: #121212; --card-bg: #1e1e1e; --text-color: #e0e0e0; --input-bg: #2c2c2c; --border-color: #444; --bar-bg: #333; --warning-bg: #4d3e14; --warning-text: #ffea8a; } }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background-color: var(--bg-color); color: var(--text-color); margin: 0; padding: 15px; padding-top: 5px; display: flex; justify-content: center; flex-direction: column; align-items: center; }
        .container { width: 100%; max-width: 600px; }
        #backupAlert { background-color: var(--warning-bg); color: var(--warning-text); padding: 10px; width: 100%; max-width: 600px; text-align: center; border-radius: 8px; margin-bottom: 15px; border: 1px solid #ffeeba; display: none; font-size: 0.9rem; cursor: pointer; }
        h2 { text-align: center; margin-bottom: 15px; font-size: 1.5rem; }
        .card { background: var(--card-bg); padding: 20px; border-radius: var(--border-radius); box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin-bottom: 20px; }
        .type-switcher { display: flex; margin-bottom: 15px; background: var(--input-bg); border: 1px solid var(--border-color); border-radius: 8px; padding: 4px; }
        .type-option { flex: 1; text-align: center; padding: 10px; cursor: pointer; border-radius: 6px; font-weight: bold; transition: all 0.2s; }
        .type-option.active.expense { background-color: var(--expense-color); color: white; }
        .type-option.active.income { background-color: var(--income-color); color: white; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 6px; font-weight: bold; font-size: 0.9rem; }
        input, select { width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; box-sizing: border-box; font-size: 16px; background: var(--input-bg); color: var(--text-color); }
        button { width: 100%; padding: 14px; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; margin-bottom: 10px; }
        button:active { opacity: 0.8; }
        .btn-add { background-color: #333; color: white; }
        .btn-update { background-color: #ff9800; color: white; display: none; }
        .btn-cancel { background-color: #777; color: white; display: none; margin-bottom: 15px; }
        .btn-export { background-color: #2196F3; color: white; }
        .btn-import { background-color: #9C27B0; color: white; }
        .btn-clear { background-color: #999; color: white; }
        .filter-container { background-color: var(--bg-color); padding: 15px; border-radius: 8px; margin-bottom: 15px; border: 1px solid var(--border-color); }
        .date-range-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px; }
        .filter-label { font-size: 0.8rem; color: #888; margin-bottom: 4px; display: block; }
        .search-box { position: relative; display: flex; gap: 8px; }
        .search-box input { padding-left: 35px; flex: 1; }
        .search-icon { position: absolute; left: 10px; top: 50%; transform: translateY(-50%); opacity: 0.5; }
        .btn-reset { width: auto; padding: 0 15px; margin: 0; background-color: #607D8B; color: white; font-size: 0.9rem; }
        table { width: 100%; border-collapse: collapse; margin-top: 5px; }
        th, td { text-align: left; padding: 12px 5px; border-bottom: 1px solid var(--border-color); font-size: 0.95rem; }
        th { color: #888; font-weight: normal; font-size: 0.85rem; }
        .amount { text-align: right; font-weight: bold; white-space: nowrap;}
        .text-expense { color: var(--expense-color); }
        .text-income { color: var(--income-color); }
        .action-btn { background: none; border: none; cursor: pointer; font-size: 1.1rem; padding: 0 5px; width: auto; display: inline; }
        .stats-summary { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; text-align: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 1px solid var(--border-color); }
        .stat-box small { display: block; color: #888; font-size: 0.8rem; margin-bottom: 5px; }
        .stat-box span { font-weight: bold; font-size: 1.1rem; }
        .cat-row { margin-bottom: 12px; }
        .cat-header { display: flex; justify-content: space-between; margin-bottom: 4px; font-size: 0.95rem; }
        .progress-bar { height: 10px; background-color: var(--bar-bg); border-radius: 5px; overflow: hidden; }
        .progress-fill { height: 100%; border-radius: 5px; transition: width 0.5s ease; }
        .toolbar-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .toolbar-full { margin-top: 10px; }
        #fileInput { display: none; }
    </style>
</head>
<body>
    <div id="backupAlert" onclick="exportToCSV()">âš ï¸ æé†’ï¼šæ‚¨å·²ç¶“è¶…é 7 å¤©æ²’æœ‰å‚™ä»½è³‡æ–™äº†ã€‚é»æ­¤ç«‹å³å‚™ä»½ (è¼¸å‡º)ã€‚</div>
    <div class="container">
        <h2>ğŸ““ æ™ºèƒ½è¨˜å¸³ PWA</h2>
        </div>
    
    <script>
        // --- é€™è£¡è²¼ä¸ŠåŸæœ¬çš„æ‰€æœ‰ JavaScript ---
        // (è«‹è¤‡è£½ä¸Šä¸€ç‰ˆçš„ script å…§å®¹)
    </script>

    <script>
        // --- PWA è¨»å†Š Service Worker ---
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(reg => console.log('Service Worker è¨»å†ŠæˆåŠŸ', reg))
                    .catch(err => console.log('Service Worker è¨»å†Šå¤±æ•—', err));
            });
        }
    </script>
</body>
</html>